(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{156:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(57),r=n.n(o),l=(n(65),n(6)),s=n(7),c=n(10),u=n(8),b=n(9),p=n(20),d=n(15),m=n(14),h=n(59),f=["#FFFBD6","#F9F2B2","#F9EFA2","#FAED85","#FDEC61"],g=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).onClickBubble=function(){"fill"!==n.state.pose?(n.setState({pose:"fill"}),clearTimeout(n.timeout)):(n.setState({pose:"end"}),setTimeout(function(){n.props.deleteBubble()},400))},n.renderTextContent=function(){return"fill"===n.state.pose?i.a.createElement("div",{style:v.bigText},i.a.createElement("div",null,n.props.bitcoinPrice," BTC "),i.a.createElement("div",null,"Address: ",n.props.addr),i.a.createElement("div",null,"Tx Index: ",n.props.txIndex)):i.a.createElement("div",null,n.props.bitcoinPrice," BTC")},n.BubblePose=h.a.div({end:{scale:0,transition:{duration:400,ease:"easeInOut"}},middle:{scale:n.props.scale,delay:Math.floor(3e3*Math.random()),transition:{type:"spring",stiffness:300,damping:10}},start:{scale:0},fill:{scale:10,left:"42%",top:"40%",transition:{type:"spring",stiffness:300,damping:10}}}),n.state={pose:"middle"},n.left=Math.floor(100*Math.random()),n.top=Math.floor(100*Math.random()),n}return Object(b.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.timeout=setTimeout(function(){e.setState({pose:"end"}),setTimeout(function(){e.props.deleteBubble()},400)},this.props.animationEnd)}},{key:"render",value:function(){var e={left:"".concat(this.left,"%"),top:"".concat(this.top,"%"),background:f[Math.round(this.props.scale)],zIndex:"fill"===this.state.pose?5:1};return i.a.createElement(this.BubblePose,{style:Object(d.a)({},v.bubble,e),pose:this.state.pose,initialPose:"start",onClick:this.onClickBubble},this.renderTextContent())}}]),t}(a.Component),v={bubble:{height:"100px",width:"100px",borderRadius:"300px",display:"flex",alignItems:"center",justifyContent:"center",color:"#004A7C",position:"absolute",cursor:"pointer"},bigText:{fontSize:"3px"}},x=n(58),y=n.n(x),E=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).calculateScale=function(e){var t=Math.log((e+.5)/n.props.minValue);return Math.min(t,3)},n.onNewTransaction=function(e){JSON.parse(e.data).x.out.forEach(function(e){var t=e.value;if(t>=n.props.minValue){var a=Symbol(),o=Math.round(t/1e8*100)/100,r=Math.max(4e3,Math.floor(6e3*Math.random())),l=i.a.createElement(g,{animationEnd:r,bitcoinPrice:o,key:Math.random(),scale:n.calculateScale(t),deleteBubble:n.deleteBubble.bind(Object(m.a)(Object(m.a)(n)),a),addr:e.addr,txIndex:e.tx_index});n.setState({bubbles:Object(d.a)({},n.state.bubbles,Object(p.a)({},a,l))})}})},n.deleteBubble=function(e){var t=y()(n.state.bubbles,e);n.setState({bubbles:Object(d.a)({},t)})},n.renderBubbles=function(){var e=Object.getOwnPropertySymbols(n.state.bubbles);return i.a.createElement("div",{style:C.bubbleWrapper},e.map(function(e){return n.state.bubbles[e]}))},n.state={bubbles:{}},n}return Object(b.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=new WebSocket("wss://ws.blockchain.info/inv");t.addEventListener("open",function(n){console.log("connected"),console.log(n),t.send('{ "op": "unconfirmed_sub" }'),t.addEventListener("message",e.onNewTransaction)})}},{key:"render",value:function(){return this.renderBubbles()}}]),t}(a.Component),C={bubbleWrapper:{position:"absolute",height:"60%",width:"60%"}},j=function(e){return i.a.createElement("div",{style:O.titleWrapper},i.a.createElement("h1",{style:O.title},"Unconfirmed Bitcoin transactions"),i.a.createElement("h2",null,"Click on bubbles for more info"),i.a.createElement("div",{style:O.inputWrapper},i.a.createElement("span",null,"Minimum value of transaction"),i.a.createElement("input",{type:"text",value:e.minValueInput,onChange:e.onChangeMinValue,style:O.input}),i.a.createElement("span",null,"BTC")))},O={title:{textAlign:"center"},inputWrapper:{display:"flex",justifyContent:"center",alignItems:"center"},titleWrapper:{background:"#fff",textAlign:"center",zIndex:10,borderRadius:30,alignSelf:"flex-start",padding:"17px",marginTop:"10px",color:"#004A7C",fontWeight:700},input:{width:"100%",height:"45px",fontSize:"19px",padding:"0px 16px",border:"none",borderRadius:"4px",fontWeight:400,lineHeight:"normal",backgroundColor:"#959595",color:"#004A7C",outline:"none",marginLeft:"10px",marginRight:"10px"}},k=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).onChangeMinValue=function(e){n.setState({minValue:1e8*parseFloat(e.target.value)||0,minValueInput:e.target.value})},n.state={minValue:1e8,minValueInput:"1"},n}return Object(b.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{style:w.background},i.a.createElement(j,{minValueInput:this.state.minValueInput,onChangeMinValue:this.onChangeMinValue}),i.a.createElement(E,{minValue:this.state.minValue}))}}]),t}(a.Component),w={background:{height:"100vh",background:"#004A7C",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"}};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},60:function(e,t,n){e.exports=n(156)},65:function(e,t,n){}},[[60,1,2]]]);
//# sourceMappingURL=main.81e15950.chunk.js.map